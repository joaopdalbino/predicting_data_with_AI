setwd('/Users/joaopedroalbino/Desktop/PredizendoNiveisdePobreza/Projeto_PredizendoPobrezas/R/Mapeando_Sao_Paulo/Map_SP')
#install libs
install.packages("brazilmaps")
install.packages("WriteXLS")
install.packages("sf")
install.packages("readxl")
#load libs
library(brazilmaps)
library("WriteXLS")
library("sf")
library("readxl")
#extract data from excel
data <- read_excel("data/ipeadata[18-09-2018-08-30].xls")
#convert collum Codigo to numeric
data$Codigo <- as.numeric(as.character(data$Codigo))
#get data about State of Sao Paulo from brazilmaps lib
sao_paulo <- get_brmap(geo = "City", geo.filter = list(State = 35), class = "sf")
sao_paulo <- join_data(sao_paulo, data, by = c("City" = "Codigo"))
library(brazilmaps)
library("WriteXLS")
library("sf")
library("readxl")
data <- read_excel("data/ipeadata[18-09-2018-08-30].xls")
sao_paulo <- get_brmap(geo = "City", geo.filter = list(State = 35), class = "sf")
plot(sao_paulo["2000"])
plot(sao_paulo)
plot(sao_paulo['City'])
sao_paulo
setwd("~/Desktop/PredizendoNiveisdePobreza/predicting_data_with_AI/R/Helpers/MappingSP")
data <- read_excel("data/ipeadata[18-09-2018-08-30].xls")
data
sao_paulo <- join_data(sao_paulo, data, by = c("City" = "Codigo"))
data$Codigo <- as.numeric(as.character(data$Codigo))
sao_paulo <- join_data(sao_paulo, data, by = c("City" = "Codigo"))
plot(sao_paulo['City'])
plot(sao_paulo['2000'])
sao_paulo
data
write.csv(data, file = paste(wd,"/data/", "cities_name.csv", sep = ""))
write.csv(data, file = "cities_name.csv", sep = ""))
write.csv(data, file = "cities.csv", sep = "")
setwd("~/Desktop/PredizendoNiveisdePobreza/predicting_data_with_AI")
data_basic <- read.csv("results/accuracy_validation_GDP.csv")
data$Code <- as.numeric(as.character(data$Code))
data_basic
data_basic <- read.csv("results/accuracy_validation_GDP.csv", sep = ';')
data_basic
data_basic$CITY_CODE <- as.numeric(as.character(data_basic$CITY_CODE))
sao_paulo <- join_data(sao_paulo, data, by = c("City" = "CITY_CODE"))
data_basic
sao_paulo <- join_data(sao_paulo, data_basic, by = c("City" = "CITY_CODE"))
plot(sao_paulo['2000'])
sao_paulo
View(sao_paulo)
plot(sao_paulo['GDP'])
plot(sao_paulo['SVM'])
max <- colMax(ret)
colMax <- function(data) sapply(data, max, na.rm = TRUE)
max <- colMax(ret)
data_basic <- read.csv("results/accuracy_validation_KMEANS.csv", sep = ';')
data_basic$CITY_CODE <- as.numeric(as.character(data_basic$CITY_CODE))
sao_paulo <- get_brmap(geo = "City", geo.filter = list(State = 35), class = "sf")
sao_paulo <- join_data(sao_paulo, data_basic, by = c("City" = "CITY_CODE"))
plot(sao_paulo['KMEANS'])
